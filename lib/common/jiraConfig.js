// *** WARNING: DO NOT MODIFY *** This is a generated JavaScript source code!
//
// Generated by LF-ET 2.3.0 (240304A), https://www.lohrfink.de/lfet
// From decision table
// "/opt/data/github/asciidoctor/asciidoctor-jira/lfet/common/jiraConfig.lfet"
// 05.03.2024 11:34
//
// Changes to this code resulting from refactorings can be synchronised
// with LF-ET using the function "Scrapbook Import".
//
// Prolog Decision Table ---->
function jiraConfig (macroName, parent, projectKey, attrs, logger) {
  let _step = 1
  let _exit = false
  let _prefixDoc = ''
  let _prefixEnv = ''
  const doc = parent.getDocument()
  const _jiraConfig = {
    toJSON: function () {
      const result = {}
      for (const x in this) {
        if (x !== 'auth') {
          result[x] = this[x]
        } else {
          if (x === 'auth') {
            result[x] = this[x].replace(/./g, '*')
          }
        }
      }
      return result
    }
  }
  do {
    _exit = true
    // $$BasicIndentLevel=2
    // Prolog Decision Table <----
    let _jiraconfigRuleExecuted = false
    // Condition B01/01: Step / 1 / jira project key information
    if (_step === 1) {
      // Condition B02: macro name defined
      if (macroName !== '') {
        // Rule R01 ---->
        _jiraconfigRuleExecuted = true
        // Trace ---->
        logger.info(`jiraConfig - 20240305.113409 - 1 / 36 - ${JSON.stringify(_jiraConfig)}`)
        // Trace <----
        // Action A01: append macro name to praefix
        _prefixDoc = `${macroName.toLowerCase()}-`
        _prefixEnv = `${macroName.toUpperCase()}_`
        // Action A05/01: next step / + / next step
        _step++
        _exit = false
        // Rule R01 <----
      } else {
        // Rule R02 ---->
        _jiraconfigRuleExecuted = true
        // Trace ---->
        logger.info(`jiraConfig - 20240305.113409 - 2 / 36 - ${JSON.stringify(_jiraConfig)}`)
        // Trace <----
        // Action A05/01: next step / + / next step
        _step++
        _exit = false
        // Rule R02 <----
      }
      // Condition B01/02: Step / 2 / jira base url information
    } else if (_step === 2) {
      // Condition B03: project key is defined
      if (projectKey) {
        // Condition B04/01: base url with project key prefix is defined / ATTRS / via macro attrs
        if (attrs.jiraBaseUrl) {
          // Rule R03 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 3 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/01: set base url / ATTRS / via macro attrs
          _jiraConfig.baseUrl = attrs['jira-baseurl']
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R03 <----
          // Condition B04/02: base url with project key prefix is defined / DOC / via doc attr
        } else if (doc.getAttribute(`${projectKey.toLowerCase()}-${_prefixDoc}jira-baseurl`)) {
          // Rule R04 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 4 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/03: set base url / PDOC / via doc attr and project key praefix
          _jiraConfig.baseUrl = doc.getAttribute(`${projectKey.toLowerCase()}-${_prefixDoc}jira-baseurl`)
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R04 <----
          // Condition B04/03: base url with project key prefix is defined / ENV / via env
        } else if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_BASEURL`]) {
          // Rule R05 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 5 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/05: set base url / PENV / via env and project key praefix
          _jiraConfig.baseUrl = process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_BASEURL`]
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R05 <----
        } else {
          // Condition B05/01: base url without project key prefix is defined / ATTRS / via macro attrs
          if (attrs.jiraBaseUrl) {
            // Rule R06 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 6 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A02/01: set base url / ATTRS / via macro attrs
            _jiraConfig.baseUrl = attrs['jira-baseurl']
            // Action A05/01: next step / + / next step
            _step++
            _exit = false
            // Rule R06 <----
            // Condition B05/02: base url without project key prefix is defined / DOC / via doc attr
          } else if (doc.getAttribute(`${_prefixDoc}jira-baseurl`)) {
            // Rule R07 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 7 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A02/02: set base url / DOC / via doc attr
            _jiraConfig.baseUrl = doc.getAttribute(`${_prefixDoc}jira-baseurl`)
            // Action A05/01: next step / + / next step
            _step++
            _exit = false
            // Rule R07 <----
            // Condition B05/03: base url without project key prefix is defined / ENV / via env
          } else if (process.env[`${_prefixEnv}JIRA_BASEURL`]) {
            // Rule R08 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 8 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A02/04: set base url / ENV / via env
            _jiraConfig.baseUrl = process.env[`${_prefixEnv}JIRA_BASEURL`]
            // Action A05/01: next step / + / next step
            _step++
            _exit = false
            // Rule R08 <----
          } else {
            // Rule R09 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 9 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A04/01: log mandatory information is missing / URL / Jira base url is missing
            logger.error('Jira base url is missing')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R09 <----
          }
        }
      } else {
        // Condition B05/01: base url without project key prefix is defined / ATTRS / via macro attrs
        if (attrs.jiraBaseUrl) {
          // Rule R10 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 10 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/01: set base url / ATTRS / via macro attrs
          _jiraConfig.baseUrl = attrs['jira-baseurl']
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R10 <----
          // Condition B05/02: base url without project key prefix is defined / DOC / via doc attr
        } else if (doc.getAttribute(`${_prefixDoc}jira-baseurl`)) {
          // Rule R11 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 11 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/02: set base url / DOC / via doc attr
          _jiraConfig.baseUrl = doc.getAttribute(`${_prefixDoc}jira-baseurl`)
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R11 <----
          // Condition B05/03: base url without project key prefix is defined / ENV / via env
        } else if (process.env[`${_prefixEnv}JIRA_BASEURL`]) {
          // Rule R12 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 12 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A02/04: set base url / ENV / via env
          _jiraConfig.baseUrl = process.env[`${_prefixEnv}JIRA_BASEURL`]
          // Action A05/01: next step / + / next step
          _step++
          _exit = false
          // Rule R12 <----
        } else {
          // Rule R13 ---->
          _jiraconfigRuleExecuted = true
          // Trace ---->
          logger.info(`jiraConfig - 20240305.113409 - 13 / 36 - ${JSON.stringify(_jiraConfig)}`)
          // Trace <----
          // Action A04/01: log mandatory information is missing / URL / Jira base url is missing
          logger.error('Jira base url is missing')
          // Action A05/02: next step / E / Exit
          _exit = true
          // Rule R13 <----
        }
      }
      // Condition B01/03: Step / 3 / jira username & password or apitoken information
    } else if (_step === 3) {
      // Condition B03: project key is defined
      if (projectKey) {
        // Condition B06/01: username with project key prefix is defined / DOC / via doc attr
        if (doc.getAttribute(`${projectKey.toLowerCase()}-${_prefixDoc}jira-username`)) {
          // Condition B08/01: password with project key prefix is defined / ENV / via env
          if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PASSWORD`]) {
            // Rule R14 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 14 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A03/01: set auth / PDOC_USR_PWD / username via doc attr and password via env with project key prefix
            _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${projectKey.toLowerCase()}-${_prefixDoc}jira-username`) + ':' + process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R14 <----
          } else {
            // Condition B10/01: apitoken with project key prefix is defined / ENV / via env
            if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_APITOKEN`]) {
              // Rule R15 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 15 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/02: set auth / PDOC_USR_API / username via doc attr and api token via env with project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${projectKey.toLowerCase()}-${_prefixDoc}jira-username`) + ':' + process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R15 <----
            } else {
              // Rule R16 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 16 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
              logger.error('Jira password or api token is missing')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R16 <----
            }
          }
          // Condition B06/02: username with project key prefix is defined / ENV / via env
        } else if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_USERNAME`]) {
          // Condition B08/01: password with project key prefix is defined / ENV / via env
          if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PASSWORD`]) {
            // Rule R17 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 17 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A03/05: set auth / PENV_USR_PWD / username and password via env with project key prefix
            _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R17 <----
          } else {
            // Condition B10/01: apitoken with project key prefix is defined / ENV / via env
            if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_APITOKEN`]) {
              // Rule R18 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 18 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/06: set auth / PENV_USR_API / username and api token via env with project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R18 <----
            } else {
              // Rule R19 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 19 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
              logger.error('Jira password or api token is missing')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R19 <----
            }
          }
        } else {
          // Condition B07/01: username without project key prefix is defined / DOC / via doc attr
          if (doc.getAttribute(`${_prefixDoc}jira-username`)) {
            // Condition B09/01: password without project key prefix is defined / ENV / via env
            if (process.env[`${_prefixEnv}JIRA_PASSWORD`]) {
              // Rule R20 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 20 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/03: set auth / DOC_USR_PWD / username via doc attr and password via env without project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${_prefixDoc}jira-username`) + ':' + process.env[`${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R20 <----
            } else {
              // Condition B11/01: apitoken without project key prefix is defined / ENV / via env
              if (process.env[`${_prefixEnv}JIRA_APITOKEN`]) {
                // Rule R21 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 21 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A03/04: set auth / DOC_USR_API / username via doc attr and api token via env without project key prefix
                _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${_prefixDoc}jira-username`) + ':' + process.env[`${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R21 <----
              } else {
                // Rule R22 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 22 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
                logger.error('Jira password or api token is missing')
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R22 <----
              }
            }
            // Condition B07/02: username without project key prefix is defined / ENV / via env
          } else if (process.env[`${_prefixEnv}JIRA_USERNAME`]) {
            // Condition B09/01: password without project key prefix is defined / ENV / via env
            if (process.env[`${_prefixEnv}JIRA_PASSWORD`]) {
              // Rule R23 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 23 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/07: set auth / ENV_USR_PWD / username and password via env without project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R23 <----
            } else {
              // Condition B11/01: apitoken without project key prefix is defined / ENV / via env
              if (process.env[`${_prefixEnv}JIRA_APITOKEN`]) {
                // Rule R24 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 24 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A03/08: set auth / ENV_USR_API / username and api token via env without project key prefix
                _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R24 <----
              } else {
                // Rule R25 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 25 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
                logger.error('Jira password or api token is missing')
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R25 <----
              }
            }
          } else {
            // Condition B12/01: personal access token with project key prefix is defined / ENV / via env
            if (process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PAT`]) {
              // Rule R26 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 26 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/09: set auth / PENV_PAT / personal access token via env with project key prefix
              _jiraConfig.auth = 'Bearer ' + process.env[`${projectKey.toUpperCase()}_${_prefixEnv}JIRA_PAT`]
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R26 <----
            } else {
              // Condition B13/01: personal access token without project key prefix is defined / ENV / via env
              if (process.env[`${_prefixEnv}JIRA_PAT`]) {
                // Rule R27 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 27 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A03/10: set auth / ENV_PAT / personal access token via env without project key prefix
                _jiraConfig.auth = 'Bearer ' + process.env[`${_prefixEnv}JIRA_PAT`]
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R27 <----
              } else {
                // Rule R28 ---->
                _jiraconfigRuleExecuted = true
                // Trace ---->
                logger.info(`jiraConfig - 20240305.113409 - 28 / 36 - ${JSON.stringify(_jiraConfig)}`)
                // Trace <----
                // Action A04/02: log mandatory information is missing / USR/PAT / Jira username or personal access token is missing
                logger.error('Jira username or personal access token is missing')
                // Action A05/02: next step / E / Exit
                _exit = true
                // Rule R28 <----
              }
            }
          }
        }
      } else {
        // Condition B07/01: username without project key prefix is defined / DOC / via doc attr
        if (doc.getAttribute(`${_prefixDoc}jira-username`)) {
          // Condition B09/01: password without project key prefix is defined / ENV / via env
          if (process.env[`${_prefixEnv}JIRA_PASSWORD`]) {
            // Rule R29 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 29 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A03/03: set auth / DOC_USR_PWD / username via doc attr and password via env without project key prefix
            _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${_prefixDoc}jira-username`) + ':' + process.env[`${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R29 <----
          } else {
            // Condition B11/01: apitoken without project key prefix is defined / ENV / via env
            if (process.env[`${_prefixEnv}JIRA_APITOKEN`]) {
              // Rule R30 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 30 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/04: set auth / DOC_USR_API / username via doc attr and api token via env without project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(doc.getAttribute(`${_prefixDoc}jira-username`) + ':' + process.env[`${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R30 <----
            } else {
              // Rule R31 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 31 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
              logger.error('Jira password or api token is missing')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R31 <----
            }
          }
          // Condition B07/02: username without project key prefix is defined / ENV / via env
        } else if (process.env[`${_prefixEnv}JIRA_USERNAME`]) {
          // Condition B09/01: password without project key prefix is defined / ENV / via env
          if (process.env[`${_prefixEnv}JIRA_PASSWORD`]) {
            // Rule R32 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 32 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A03/07: set auth / ENV_USR_PWD / username and password via env without project key prefix
            _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${_prefixEnv}JIRA_PASSWORD`]).toString('base64')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R32 <----
          } else {
            // Condition B11/01: apitoken without project key prefix is defined / ENV / via env
            if (process.env[`${_prefixEnv}JIRA_APITOKEN`]) {
              // Rule R33 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 33 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A03/08: set auth / ENV_USR_API / username and api token via env without project key prefix
              _jiraConfig.auth = 'Basic ' + Buffer.from(process.env[`${_prefixEnv}JIRA_USERNAME`] + ':' + process.env[`${_prefixEnv}JIRA_APITOKEN`]).toString('base64')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R33 <----
            } else {
              // Rule R34 ---->
              _jiraconfigRuleExecuted = true
              // Trace ---->
              logger.info(`jiraConfig - 20240305.113409 - 34 / 36 - ${JSON.stringify(_jiraConfig)}`)
              // Trace <----
              // Action A04/03: log mandatory information is missing / PWD/API / Jira password or api token is missing
              logger.error('Jira password or api token is missing')
              // Action A05/02: next step / E / Exit
              _exit = true
              // Rule R34 <----
            }
          }
        } else {
          // Condition B13/01: personal access token without project key prefix is defined / ENV / via env
          if (process.env[`${_prefixEnv}JIRA_PAT`]) {
            // Rule R35 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 35 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A03/10: set auth / ENV_PAT / personal access token via env without project key prefix
            _jiraConfig.auth = 'Bearer ' + process.env[`${_prefixEnv}JIRA_PAT`]
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R35 <----
          } else {
            // Rule R36 ---->
            _jiraconfigRuleExecuted = true
            // Trace ---->
            logger.info(`jiraConfig - 20240305.113409 - 36 / 36 - ${JSON.stringify(_jiraConfig)}`)
            // Trace <----
            // Action A04/02: log mandatory information is missing / USR/PAT / Jira username or personal access token is missing
            logger.error('Jira username or personal access token is missing')
            // Action A05/02: next step / E / Exit
            _exit = true
            // Rule R36 <----
          }
        }
      }
    }

    if (!_jiraconfigRuleExecuted) {
      // Trace ---->
      logger.info(`jiraConfig - 20240305.113409 - 0 / 36 - ${JSON.stringify(_jiraConfig)}`)
      // Trace <----
      // Error ---->
      // profile LFET.JavaScript.Error.ini not found
      // used LF-ET 2.3.0 (240304A) build in default
      throw new Error("no rule executed in decision table 'jiraConfig'")
      // Error <----
    }
    // Epilog Decision Table ---->
  } while (_exit === false)
  return _jiraConfig
}

module.exports = {
  createConfig: (macroName, parent, projectKey, attrs, logger) => {
    return jiraConfig(macroName, parent, projectKey, attrs, logger)
  }
}
// Epilog Decision Table <----

// End of generated JavaScript source code
// Generated by LF-ET 2.3.0 (240304A), https://www.lohrfink.de/lfet
